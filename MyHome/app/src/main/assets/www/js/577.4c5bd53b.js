"use strict";(self["webpackChunkmy_home"]=self["webpackChunkmy_home"]||[]).push([[577],{269:function(){},818:function(e,t,a){a(6647),a(7708),a(7484)},968:function(e,t,a){a.d(t,{a:function(){return o}});var l=a(144),n=a(6768);function o(e){const t=(0,l.KR)(!1);return(0,n.wB)(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}},989:function(e,t,a){a.d(t,{hJ:function(){return f}});var l=a(4726),n=a(6768),o=a(144),s=a(5130),r=a(5828),i=a(6370),c=a(240),u=a(8442),d=a(7905),v=a(6591),k=a(968);const[p,_]=(0,r.YX)("overlay"),b={show:Boolean,zIndex:i.VQ,duration:i.VQ,className:i.E9,lockScroll:i.Rd,lazyRender:i.Rd,customStyle:Object,teleport:[String,Object]};var m=(0,n.pM)({name:p,inheritAttrs:!1,props:b,setup(e,{attrs:t,slots:a}){const l=(0,o.KR)(),r=(0,k.a)((()=>e.show||!e.lazyRender)),i=t=>{e.lockScroll&&(0,c.wo)(t,!0)},p=r((()=>{var o;const r=(0,u.X$)((0,d.AO)(e.zIndex),e.customStyle);return(0,u.C8)(e.duration)&&(r.animationDuration=`${e.duration}s`),(0,n.bo)((0,n.bF)("div",(0,n.v6)({ref:l,style:r,class:[_(),e.className]},t),[null==(o=a.default)?void 0:o.call(a)]),[[s.aG,e.show]])}));return(0,v.ML)("touchmove",i,{target:l}),()=>{const t=(0,n.bF)(s.eB,{name:"van-fade",appear:!0},{default:p});return e.teleport?(0,n.bF)(n.Im,{to:e.teleport},{default:()=>[t]}):t}}});const f=(0,l.G)(m)},2376:function(e,t,a){a.d(t,{Or:function(){return v},kq:function(){return u},nc:function(){return d},nw:function(){return k},ob:function(){return c},st:function(){return i}});var l=a(6931),n=a(9985),o=a(6768);const s=(0,l.h)(),r=(0,o.EW)((()=>{switch(s.bookPlatform.current){case n.m.lengku8.meta.name:return n.m.lengku8;case n.m.tbxsw.meta.name:return n.m.tbxsw;default:return n.m.lengku8}}));function i(e){return r.value.search(e)}function c(){return r.value.getClassifyList()}function u(e){return r.value.getList(e)}function d(e){return r.value.getDetail(e)}function v(e){return r.value.getAllChapterList(e)}function k(e){return r.value.getBookContent(e)}},2879:function(e,t,a){a.d(t,{A:function(){return K}});var l=a(4726),n=a(6768),o=a(5828),s=a(6370),r=a(6591);const[i,c]=(0,o.YX)("sidebar"),u=Symbol(i),d={modelValue:(0,s.TU)(0)};var v=(0,n.pM)({name:i,props:d,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{linkChildren:l}=(0,r.Py)(u),o=()=>+e.modelValue,s=e=>{e!==o()&&(t("update:modelValue",e),t("change",e))};return l({getActive:o,setActive:s}),()=>{var e;return(0,n.bF)("div",{role:"tablist",class:c()},[null==(e=a.default)?void 0:e.call(a)])}}});const k=(0,l.G)(v);a(6647);var p=a(8442),_=a(4548),b=a(3408);const[m,f]=(0,o.YX)("sidebar-item"),h=(0,p.X$)({},_.aI,{dot:Boolean,title:String,badge:s.VQ,disabled:Boolean,badgeProps:Object});var g=(0,n.pM)({name:m,props:h,emits:["click"],setup(e,{emit:t,slots:a}){const l=(0,_.lq)(),{parent:o,index:s}=(0,r.cJ)(u);if(!o)return void 0;const i=()=>{e.disabled||(t("click",s.value),o.setActive(s.value),l())};return()=>{const{dot:t,badge:l,title:r,disabled:c}=e,u=s.value===o.getActive();return(0,n.bF)("div",{role:"tab",class:f({select:u,disabled:c}),tabindex:c?void 0:0,"aria-selected":u,onClick:i},[(0,n.bF)(b.Ex,(0,n.v6)({dot:t,class:f("text"),content:l},e.badgeProps),{default:()=>[a.title?a.title():r]})])}}});const y=(0,l.G)(g);a(7708);var L=a(5314),R=(a(818),a(4114),a(8111),a(7588),a(144)),C=a(4232);const w={class:"catalog-panel"},F={class:"catalog-panel__header"},A={class:"catalog-panel__content"},E={class:"catalog-panel__list"},I=["onClick"];var X=(0,n.pM)({name:"catalog-panel",__name:"catalog-panel",props:{list:{type:Array,required:!0},groupCount:{type:Number,default:50}},emits:["change"],setup(e,{emit:t}){const a=t,l=e,o=(0,R.KR)(!1),s=(0,R.KR)(0),r=(0,n.EW)((()=>{const e=[];let t=-1;return l.list.forEach(((a,n)=>{n%l.groupCount===0&&(t++,e.push({name:`${t*l.groupCount+1}-${t*l.groupCount+l.groupCount}`,chapters:[]})),e[t].chapters.push(a)})),o.value?e.reverse():e})),i=(0,n.EW)((()=>{const e=r.value[s.value]?.chapters||[];return o.value?e.slice().reverse():e})),c=e=>{a("change",e)};return(e,t)=>{const a=L.In,l=y,u=k;return(0,n.uX)(),(0,n.CE)("div",w,[(0,n.Lk)("div",F,[t[2]||(t[2]=(0,n.Lk)("div",{class:"catalog-panel__header-title"},"目录",-1)),(0,n.Lk)("div",{class:"catalog-panel__header-sort",onClick:t[0]||(t[0]=e=>o.value=!(0,R.R1)(o))},[(0,n.bF)(a,{name:"sort"}),(0,n.eW)(" "+(0,C.v_)((0,R.R1)(o)?"正序":"倒序"),1)])]),(0,n.Lk)("div",A,[(0,n.bF)(u,{class:"catalog-panel__sidebar",modelValue:(0,R.R1)(s),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,R.i9)(s)?s.value=e:null)},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,R.R1)(r),((e,t)=>((0,n.uX)(),(0,n.Wv)(l,{key:t,title:e.name},null,8,["title"])))),128))])),_:1},8,["modelValue"]),(0,n.Lk)("div",E,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,R.R1)(i),((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"catalog-panel__list-item",onClick:t=>c(e)},(0,C.v_)(e.title),9,I)))),128))])])])}}}),V=a(1241);const x=(0,V.A)(X,[["__scopeId","data-v-e5ad8e06"]]);var K=x},3577:function(e,t,a){a.r(t),a.d(t,{default:function(){return X}});var l=a(989),n=(a(6647),a(269),a(2094)),o=(a(5121),a(2879)),s=(a(4114),a(6768)),r=a(4232),i=a(144),c=a(2376),u=a(8172);const d={class:"book-detail"},v={class:"book-detail__header"},k={class:"book-detail__content"},p={class:"book-detail__primary"},_=["src"],b={class:"book-detail__info"},m={class:"book-detail__info-title"},f={class:"book-detail__info-author"},h={class:"book-detail__info-category"},g={class:"book-detail__secondary"},y={class:"book-detail__secondary-intro"},L={class:"book-detail__secondary-other"},R={class:"book-detail__secondary-latest"},C={class:"book-detail__secondary-update"},w={class:"book-detail__catalog-panel"},F={class:"loading-wrapper"};var A=(0,s.pM)({name:"book-detail",__name:"book-detail",setup(e){const t=(0,u.l)(),a=(0,u.r)(),A=(0,i.KR)(!1),E=(0,i.KR)({id:"",title:"",cover:"",intro:"",author:{id:"",name:""},classify:{id:"",name:""},updateDate:"",lastChapter:{id:"",title:"",isLock:!1},state:-1}),I=(0,i.KR)([]),X=(0,s.EW)((()=>({backgroundImage:`url(${E.value.cover})`}))),V=()=>{a.back()},x=async()=>{A.value=!0;try{const[e,a]=await Promise.all([(0,c.nc)({id:t.query.id}),(0,c.Or)({id:t.query.id})]);E.value=e,I.value=a}finally{A.value=!1}},K=e=>{a.push({name:"book-read",query:{id:t.query.id,chapterId:e.id}})};return x(),(0,s.n)((()=>{t.query.id!==E.value.id&&x()})),(e,t)=>{const a=o.A,c=n.Rh,u=l.hJ;return(0,s.uX)(),(0,s.CE)("div",d,[(0,s.Lk)("div",v,[(0,s.Lk)("i",{class:"book-detail__header-back icon-back",onClick:V}),(0,s.Lk)("div",{class:"book-detail__header-bg",style:(0,r.Tr)((0,i.R1)(X))},null,4)]),(0,s.Lk)("div",{class:"book-detail__bg",style:(0,r.Tr)((0,i.R1)(X))},null,4),(0,s.Lk)("div",k,[(0,s.Lk)("div",p,[(0,s.Lk)("img",{class:"book-detail__cover",src:(0,i.R1)(E).cover},null,8,_),(0,s.Lk)("div",b,[(0,s.Lk)("h1",m,(0,r.v_)((0,i.R1)(E).title),1),(0,s.Lk)("p",f,"作者："+(0,r.v_)((0,i.R1)(E).author.name),1),(0,s.Lk)("p",h,"类型："+(0,r.v_)((0,i.R1)(E).classify.name),1)])]),(0,s.Lk)("div",g,[t[0]||(t[0]=(0,s.Lk)("h1",{class:"book-detail__secondary-title"},"简介",-1)),(0,s.Lk)("p",y,(0,r.v_)((0,i.R1)(E).intro),1),(0,s.Lk)("div",L,[(0,s.Lk)("span",R,"最新 "+(0,r.v_)((0,i.R1)(E).lastChapter.title),1),(0,s.Lk)("span",C,(0,r.v_)((0,i.R1)(E).updateDate),1)])]),(0,s.Lk)("div",w,[(0,s.bF)(a,{list:(0,i.R1)(I),onChange:K},null,8,["list"])])]),(0,s.bF)(u,{show:(0,i.R1)(A)},{default:(0,s.k6)((()=>[(0,s.Lk)("div",F,[(0,s.bF)(c,{size:"24px",vertical:""},{default:(0,s.k6)((()=>t[1]||(t[1]=[(0,s.eW)("加载中...")]))),_:1,__:[1]})])])),_:1},8,["show"])])}}}),E=a(1241);const I=(0,E.A)(A,[["__scopeId","data-v-2fdd1a3a"]]);var X=I},5121:function(e,t,a){a(6647),a(7265)}}]);
//# sourceMappingURL=577.4c5bd53b.js.map